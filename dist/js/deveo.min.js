!function(){"use strict";function t(t,i,n){var r=Math.floor(t/i),s=e(r,n),o=i*r+s;return o>t?r-1:r}function i(t,i,r){var s=e(i,r),o=t-s,h=o/i;return n(h,t)}function e(t,i){return(t-1)*i}function n(t,i){return t/i*100+"%"}function r(t,i){var e=new h(t,o(i));return $(t).data("plugin",e),e}function s(t){return $(t).data("plugin")||r(t)}function o(t){return $.extend({},h.DEFAULTS,t)}var h=function(t,i){this.container=$(t),this.settings=i,this.init()};h.DEFAULTS={selector:".item"},h.prototype.init=function(){$(window).on("resize.deveo.fit",$.proxy(this.refit,this)),this.reset()},h.prototype.reset=function(){this.items=this.getItems(),this.margin=this.margin||this.settings.margin||this.getMargin(),this.minWidth=this.minWidth||this.settings.minWidth||this.items.outerWidth(),this.itemHeight=this.settings.itemHeight||this.getItemHeight(),this.refit()},h.prototype.refit=function(){this.resetMargins(),this.recalculateRowSizeAndItemWidth(),this.adjustItems()},h.prototype.destroy=function(){$(window).off("resize.deveo.fit"),this.container.removeData("plugin")},h.prototype.getItems=function(){return this.container.find(this.settings.selector)},h.prototype.getMargin=function(){return this.items.outerWidth(!0)-this.items.outerWidth()},h.prototype.resetMargins=function(){this.items.css({marginLeft:this.margin,marginRight:0})},h.prototype.recalculateRowSizeAndItemWidth=function(){var e=this.getContainerWidth();this.rowSize=t(e,this.minWidth,this.margin),this.itemWidth=i(e,this.rowSize,this.margin)},h.prototype.getContainerWidth=function(){return this.container.width("").width(this.container.width()).width()},h.prototype.getItemHeight=function(){return Math.max.apply(null,this.items.map(function(){return $(this).outerHeight()}).get())},h.prototype.adjustItems=function(){var t=this;$.each(this.items,function(i){var e=$(this).css({width:t.itemWidth,height:t.itemHeight});i%t.rowSize===0&&e.css("marginLeft",0)})};var u={fit:h.prototype.refit,reset:h.prototype.reset,destroy:h.prototype.destroy};$.fn.fit=function(t){return this.each(function(){var i=typeof t;if("undefined"===i||"object"===i)r(this,t);else if("string"===i){var e=s(this),n=u[t];n?n.apply(e):$.error("Method "+t+" does not exist.")}})}}();